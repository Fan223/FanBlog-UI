<template>
  <div id="vditor"></div>
</template>

<script>
import Vditor from "vditor"
import "vditor/dist/index.css"

export default {
  // eslint-disable-next-line vue/multi-word-component-names
  name: "index",
  data() {
    return {
      contentEditor: '',
    }
  },
  mounted() {
    this.contentEditor = new Vditor('vditor', {
      minHeight: 520,
      toolbarConfig: {
        pin: true,
        hide: false
      },
      outline: {
        enable: true,
        position: "right"
      },
      cache: {
        enable: false,
      },
      theme: "dark",
      lang: 'zh_CN',
      mode: "wysiwyg",
      icon: "material",
      placeholder: "è¯·è¾“å…¥æ­£æ–‡å†…å®¹",
      preview: {
        markdown: {
          autoSpace: true,
          paragraphBeginningSpace: true,
          mark: true,
          listStyle: true
        },
        theme: {
          current: "dark"
        },
        hljs: {
          "lineNumber": true
        }
      },
      hint: {
        emojiTail: "è®¾ç½®å¸¸ç”¨è¡¨æƒ…",
        emoji: {
          "sad": "ğŸ’”",
          "love": "â¤ï¸",
          "cheer": "ğŸ‰ï¸",
          "rocket": "ğŸš€ï¸",
          "eye": "ğŸ‘€ï¸",
          "cat": "ğŸ±ï¸",
          "rabbit": "ğŸ°ï¸",
          "good": "ğŸ‘",
          "j": "https://cdn.jsdelivr.net/npm/vditor@1.3.1/dist/images/emoji/j.png"
        },
      },
      counter: {
        "enable": true
      },
      after: () => {
        this.contentEditor.setValue(this.content)
      },
    })
  },
  props: {
    content: {
      type: String,
      default: ""
    }
  },
  methods: {
    getValue() {
      return this.contentEditor.getValue(); // è·å– Markdown å†…å®¹
    }
  },
}
</script>